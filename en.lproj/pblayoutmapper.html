<h2><a href="/Small/en/pblayoutmapper#layout-mapper" id=layout-mapper aria-hidden="true" class="anchor"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Layout mapper</h2>
<p>The layout mapper use official <em>AutoLayout</em>, support configurations:</p>
<h3><a href="/Small/en/pblayoutmapper#views" id=views aria-hidden="true" class="anchor"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>views</h3>
<p>The view dictionary, each <em>Key</em> for view alias and each <em>Value</em> dictionary used to map properties for the view.</p>
<h3><a href="/Small/en/pblayoutmapper#metrics" id=metrics aria-hidden="true" class="anchor"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>metrics</h3>
<p>The metric dictionary, each <em>Key</em> for metric alias and each <em>Value</em> is a float value for the metric.</p>
<h3><a href="/Small/en/pblayoutmapper#formats" id=formats aria-hidden="true" class="anchor"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>formats</h3>
<p>The constraint format language defined by official, refer to <em>VFL</em>.</p>
<h3><a href="/Small/en/pblayoutmapper#constraints" id=constraints aria-hidden="true" class="anchor"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>constraints</h3>
<p>The constraint format language defined by Pbind, supports:</p>
<h4><a href="/Small/en/pblayoutmapper#1.-explicit-constraint" id=1.-explicit-constraint aria-hidden="true" class="anchor"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. explicit constraint</h4>
<p><code>[firstItem].[firstAttribute][relation][secondItem].[secondAttribute]*[coefficient]+[constant]@[priority]</code></p>

<p><strong>item</strong> the <em>Key</em> of the view dictionary means the view alias.</p>

<p><strong>attribute</strong> supports:</p>

<table><thead>
<tr>
<th>name</th>
<th>NSLayoutAttribute</th>
</tr>
</thead><tbody>
<tr>
<td>left</td>
<td>NSLayoutAttributeLeft</td>
</tr>
<tr>
<td>right</td>
<td>NSLayoutAttributeRight</td>
</tr>
<tr>
<td>top</td>
<td>NSLayoutAttributeTop</td>
</tr>
<tr>
<td>bottom</td>
<td>NSLayoutAttributeBottom</td>
</tr>
<tr>
<td>leading</td>
<td>NSLayoutAttributeLeading</td>
</tr>
<tr>
<td>trailing</td>
<td>NSLayoutAttributeTrailing</td>
</tr>
<tr>
<td>width</td>
<td>NSLayoutAttributeWidth</td>
</tr>
<tr>
<td>height</td>
<td>NSLayoutAttributeHeight</td>
</tr>
<tr>
<td>centerX</td>
<td>NSLayoutAttributeCenterX</td>
</tr>
<tr>
<td>centerY</td>
<td>NSLayoutAttributeCenterY</td>
</tr>
<tr>
<td>baseline</td>
<td>NSLayoutAttributeBaseline</td>
</tr>
</tbody></table>

<p><strong>relation</strong> supports all the relations(==|&gt;=|&lt;=) defined by <em>VFL</em>, futhermore we allows &#39;=&#39;.</p>

<p><strong>coefficient</strong> a float value which same as <em>VFL</em>.</p>

<p><strong>constant</strong> a float value which will be auto-scaled by Pbind.</p>

<p><strong>priority</strong> a integer value of <em>UILayoutPriority</em>, default is <em>UILayoutPriorityRequired</em>(1000).</p>

<p>Example:</p>

<p><code>icon.width=icon.height</code>
<code>label1.baseline=icon.top+2</code>
<code>label1.height=label2.height*2+20@750</code></p>
<h4><a href="/Small/en/pblayoutmapper#2.-complex-constraint" id=2.-complex-constraint aria-hidden="true" class="anchor"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. complex constraint</h4>
<p>A complex constraint starts with a upper case character tag and a colon.
Accept tags:</p>

<table><thead>
<tr>
<th>tag</th>
<th>for</th>
<th>e.g.</th>
</tr>
</thead><tbody>
<tr>
<td>R</td>
<td>aspect ratio</td>
<td>R:icon=1, R:icon=4:3</td>
</tr>
<tr>
<td>E</td>
<td>edge insets</td>
<td>E:inner={20,30,20,30}, E:outer-inner={20,30,20,30}</td>
</tr>
<tr>
<td>C</td>
<td>merge center horizontally</td>
<td>C:&#124;-left-[/[name]-[desc]/(==height)]-[icon]-&#124;</td>
</tr>
<tr>
<td>M</td>
<td>merge center vertically</td>
<td>M:&#124;-left-[/[name]-[desc]/(==width)]-[icon]-&#124;</td>
</tr>
</tbody></table>
<h5><a href="/Small/en/pblayoutmapper#aspect-ratio" id=aspect-ratio aria-hidden="true" class="anchor"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>aspect ratio</h5>
<p>Allows float only, you can use a ratio constant or format with <code>width:height</code>.</p>
<h5><a href="/Small/en/pblayoutmapper#edge-insets" id=edge-insets aria-hidden="true" class="anchor"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>edge insets</h5>
<p>The <em>outer</em> refer to the outer view, default to super view if not set.
The numeric value in the bracket interval will be auto-scaled by Pbind.</p>
<h5><a href="/Small/en/pblayoutmapper#merge-center" id=merge-center aria-hidden="true" class="anchor"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>merge center</h5>
<p>The views in the &#39;/&#39; interval will be added to a new view container which used for center align.</p>

<p>Take following format as example:</p>
<div class="highlight highlight-source-text"><pre>C:|-left-[/[name]-[desc]/(==height)]-[icon]-|
          ^^^^^^^^^^^^^^^
              merger
</pre></div>
<p>It will be split into following constraints:</p>

<ul>
<li><code>V:|-left-[merger(==height)]-[icon]-|</code>, restrain the height and edges for the merged container</li>
<li><code>H:|[name]-[desc]|</code>, restrain the edges for the subviews inside the merged container</li>
<li><code>merge.centerX = super.centerX</code>, restrain the alignment for the merged container</li>
</ul>

<p>Actually the above format contains two direction constraints, for ease of understanding, we can take &#39;/&#39; as direction switching:</p>

<ul>
<li><strong>C</strong> from <strong>V</strong>ertical to <strong>H</strong>orizontal (CVH)</li>
<li><strong>M</strong> from <strong>H</strong>orizontal to <strong>V</strong>ertical (MHV)</li>
</ul>

<p>We also needs to note that:</p>

<ul>
<li>The views using merge center constraint would change it&#39;s super view so that the edge constraints defined in the <strong>formats</strong> for them won&#39;t takes effect any more.</li>
<li>Cause we directly parse the two direction formats by <em>VFL</em> so that the constants in the format won&#39;t be auto-scaled, you can achieve this by setting the value in the <strong>metrics</strong>.</li>
</ul>
